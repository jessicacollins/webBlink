<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Control Panel</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<script src="js/jQuery.knob.js"></script>
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/styles.css">


</head>
<body>
	<main>
		<header class="primary-header">
			<div class="logo">
				<a href="/"><h2>&lt;web<strong>B</strong>link&gt;</h2></a>
			</div>
			<nav>
				<a href="/">Login</a>
				<a href="">Register</a>
			</nav>		
		</header>

		<div class="control-panel">
				
			<div class="left-panel panel fog">
				<div class="box">
					<header><h2><i class="fa fa-fire"></i>  Patterns</h2></header>
					<section>
						<form>
							<div><input type="radio" name="pattern" value="rainbox">Rainbow</div>
							<div><input type="radio" name="pattern" value="chase">Chase</div>
							<div><input type="radio" name="pattern" value="cylon">Cylon</div>
						</form>
					</section>
				</div>
				<div class="box">
					<header><h2><i class="fa fa-fire"></i>  Patterns</h2></header>
					<section>
						<input type="text" name="pattern-name" placeholder="Pattern Name">
						<button>Save</button>
					</section>
				</div>
			</div>
			<div class="middle-panel panel glass">
				<div class="box">
					<header></header>
					<section>
						<input type="text" class="dial" data-min="0" data-max="255" data-fgColor="#66CC66" data-angleOffset=-125 data-angleArc=250>			
						<script>
							<!--Thanks to David Middlecamp for much help with this javascript dimmer-->
							$(function() {
								var sendApiRequest = function(v) {
									console.log('foo ' + v);
									$.post("https://api.spark.io/v1/devices/Core3/turnTo", {access_token: "26060875af3c6fb3a8985e25329c5cade8d23505", arg: v}); //Dummy access token
								};
								var _timer = null,
									lastValue = 0,
									minDelta = 10;
								var onChange = function(v) {
									if (_timer) {
										clearTimeout(_timer);
									}
									if (Math.abs(v - lastValue) > minDelta) {
										lastValue = v;
										sendApiRequest(v);
										return;
									}
									
									_timer = setTimeout(function() { 
										lastValue = v;
										sendApiRequest(v)
									}, 50);
								};
						    	$(".dial").knob(
						    		{'change':  onChange
								});
							});
							</script>

					</section>
				</div>
				<div class="box">
					<header><h2><i class="fa fa-fire"></i>  Patterns</h2></header>
					<section>
						<input type="text" class="dial" data-min="0" data-max="255" data-fgColor="#66CC66" data-angleOffset=-125 data-angleArc=250>			
						<script>
							<!--Thanks to David Middlecamp for much help with this javascript dimmer-->
							$(function() {
								var sendApiRequest = function(v) {
									console.log('foo ' + v);
									$.post("https://api.spark.io/v1/devices/Core3/turnTo", {access_token: "26060875af3c6fb3a8985e25329c5cade8d23505", arg: v}); //Dummy access token
								};
								var _timer = null,
									lastValue = 0,
									minDelta = 10;
								var onChange = function(v) {
									if (_timer) {
										clearTimeout(_timer);
									}
									if (Math.abs(v - lastValue) > minDelta) {
										lastValue = v;
										sendApiRequest(v);
										return;
									}
									
									_timer = setTimeout(function() { 
										lastValue = v;
										sendApiRequest(v)
									}, 50);
								};
						    	$(".dial").knob(
						    		{'change':  onChange
								});
							});
							</script>

					</section>
				</div>
			</div>
			<div class="right-panel panel fog">
				<div class="box">
					<header><h2><i class="fa fa-fire"></i>  Patterns</h2></header>
					<section>
					

					</section>
				</div>
				<div class="box">
					<header><h2><i class="fa fa-fire"></i>  Patterns</h2></header>
					<section>


					</section>
				</div>
			</div>
		</div>

		<footer>
		
		</footer>
	</main>
</body>
</html>